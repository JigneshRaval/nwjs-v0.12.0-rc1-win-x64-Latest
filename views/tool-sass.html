<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>Coder's Cubes : Bookmarks</title>
		
		<!-- Load All CSS Files here -->
		<link rel="stylesheet" type="text/css" href="css/fonts.css" />
		<link rel="stylesheet" type="text/css" href="css/ionicons.css" />
		<link rel="stylesheet" type="text/css" href="css/font-mfizz.css" />
		<link rel="stylesheet" type="text/css" href="css/font-awesome.min.css" />
		
		<link rel="stylesheet" type="text/css" href="css/plugins/animate.css" />
		<link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
		<link rel="stylesheet" type="text/css" href="css/bootstrap-custom.css" />
		
		<link rel="stylesheet" type="text/css" href="css/plugins/summernote.css" />
		<link rel="stylesheet" type="text/css" href="css/plugins/hint.css" />
		<link rel="stylesheet" type="text/css" href="css/plugins/jPages.css" />
		
		<link rel="stylesheet" type="text/css" href="css/plugins/selectize.default.css" />
		<!-- <link rel="stylesheet" type="text/css" href="css/plugins/jquery.snippet.css" />
		<link rel="stylesheet" type="text/css" href="css/plugins/prism.css" /> -->
		<link rel="stylesheet" type="text/css" href="css/plugins/jquery.mCustomScrollbar.css" />
		<link rel="stylesheet" type="text/css" href="css/plugins/alertify.core.css" />
		<link rel="stylesheet" type="text/css" href="css/plugins/alertify.bootstrap.css" />
		<link rel="stylesheet" type="text/css" href="css/plugins/dropdowns-enhancement.css" />
		<link rel="stylesheet" type="text/css" href="css/plugins/bootstrap-colorpicker.css" />
		<link rel="stylesheet" type="text/css" href="css/plugins/uploadfile.css" />
		<link rel="stylesheet" type="text/css" href="css/plugins/slick.css"/>		
		<link rel="stylesheet" type="text/css" href="css/plugins/slick-theme.css"/>
		<link rel="stylesheet" type="text/css" href="css/plugins/jquery.autocomplete.css" />
		
		<link rel="stylesheet" type="text/css" href="css/plugins/split-pane.css" />
		<link rel="stylesheet" href="css/plugins/pretty-split-pane.css" />
		
		<link rel="stylesheet" href="css/codemirror/codemirror.css" />
		<link rel="stylesheet" href="css/codemirror/theme/neat.css" />
		<link rel="stylesheet" href="css/codemirror/theme/ambiance.css" />
		<link rel="stylesheet" href="css/codemirror/theme/vibrant-ink.css">
		<link rel="stylesheet" href="css/codemirror/theme/lesser-dark.css">
		<link rel="stylesheet" href="css/codemirror/theme/solarized.css">
		<link rel="stylesheet" href="js/codemirror/addon/fold/foldgutter.css" />
		<!-- <link rel="stylesheet" type="text/css" title="default" id="styleSyntaxHighlighter" href="css/highlighter/default.css"> -->
		
		<link rel="stylesheet" type="text/css" href="css/layout.css" />
		<link rel="stylesheet" type="text/css" href="css/code-pen.css" />
		<link rel="stylesheet" type="text/css" href="css/components.css" />
		<link rel="stylesheet" type="text/css" href="css/global.css" />
		<link rel="stylesheet" type="text/css" href="css/plugins-custom.css" />
		<!-- <link rel="stylesheet" href="editr/editr.css"> -->
		
		<!-- The style sheet below is not part of the split-pane plugin. Feel free to use it, or style things your own way. -->
		
		
		<!-- Load All JS Files here -->
		<script type="text/javascript" src="../database/left-nav-panel.json"></script>
		
		<script type="text/javascript" src="js/jquery.min.js"></script>
		<script type="text/javascript" src="js/node-webkit-fn.js"></script>
		<script type="text/javascript" src="js/common-onload-functions.js"></script>
		
		<script type="text/javascript">			
			var loadJSONDataFiles = {
				files : [
				{id : 1, name : "codepen-tmpl", path : "templates/codepens-tmpl.hb", filetype: "html", container : '#handlebars-templates-wrapper'  },
				{id : 2, name : "tags-tmpl", path : "templates/tags-tmpl.hb", filetype: "html", container : '#handlebars-templates-wrapper'  },
				{id : 3, name : "categories-tmpl", path : "templates/categories-tmpl.hb", filetype: "html", container : '#handlebars-templates-wrapper'  },
				{id : 4, name : "assets-panel-tmpl", path : "templates/assets-panel-tmpl.hb", filetype: "html", container : '#handlebars-templates-wrapper' }
				]
			};
		</script>
		<style>
			/* = CodeMirror ===========*/
			.CodeMirror { height: auto;min-height: 100vh; }
			.CodeMirror-scroll { overflow: hidden !important; min-height: 100vh; }
			#left-component {
			width: 35em;
			}
			#my-divider {
			left: 35em; /* Same as left component width */
			width: 8px;
			background: #333333;
			background: linear-gradient(to right,  #333333 0%,#555555 99%);
			filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#333333', endColorstr='#555555',GradientType=1 );
			}
			#right-component {
			left: 35em;  /* Same as left component width */
			margin-left: 8px;  /* Same as divider width */
			}
		</style>
	</head>
	
	<body class="webtools-page opened">
		<div id='status' style='display: none;'></div>
		
		<!-- START :: Window Toolbar -->
		<div class="top-edge">			
			<div class="app-controls" style="display: block;">
				<div id="WindowToolbar" class="fl">					
					<a href="javascript:;" onclick="webkitWinModule.closeWin()" type="button" class="btnCloseApp twhite" data-toggle="tooltip" data-placement="bottom" title="Close">
						<i class="ion-close-round"></i>
					</a>
					
					<a href="javascript:;" onclick="webkitWinModule.minimizeWin()" type="button" class="btnMinimize" data-toggle="tooltip" data-placement="bottom" title="Minimize">
						<i class="glyphicon glyphicon-minus"></i>
					</a>
					
					<a href="javascript:;" onclick="webkitWinModule.maximizeWin()" type="button" class="btnToggleFullScreen" data-toggle="tooltip" data-placement="bottom" title="Maximize">
						<i class="glyphicon glyphicon-fullscreen"></i>
					</a>
					
					<a href="javascript:;" onclick="webkitWinModule.reloadWin()" type="button" class="btnReloadApp" data-toggle="tooltip" data-placement="bottom" title="Reload Application">
						<i class="ion-refresh"></i>
					</a>
					
					<a href="javascript:;" onclick="webkitWinModule.showDevTool()" type="button" class="btnDevToolbar" data-toggle="tooltip" data-placement="bottom" title="Developer Toolbar">
						<i class="ion-gear-b"></i>
					</a>
				</div>
				<h3 class="text-muted alignR fr oswald w400 uppercasetext" style="-webkit-app-region: drag">Coder's Cubes : Bookmarks</h3>				
			</div>
		</div>
		<!-- END :: Window Toolbar -->
		
		<link rel="import" href="imports/modals-overlays.html">
		<link rel="import" href="imports/asset-panel.html">
		
		<!-- START :: All the Handlebars Templates -->
		<div id="handlebars-templates-wrapper">
			
		</div>
		<script type="text/javascript">
			loadJSONTemplate(loadJSONDataFiles);
			//showPageLoadProgress();
		</script>
		<!-- END :: All the Handlebars Templates -->
		
		<div class="loading-indicator top-bar">
			<div class="loading-loader">
				<i class="ion-loading-c eleinlineblock"></i>
			</div>
		</div>
		
		<!-- START :: Result List Area -->
		<div class="result-area-wrapper">
			<a href="javascript:;" class="close-result-view">&times;</a>
			<div id="slick-data-wrapper">
				<div class="slick-slider-content">
					
				</div>
			</div>
		</div>
		<!-- END :: Result List Area -->
		
		<div class="content-area-wrapper posAbs cover">
			<!--===========================================
				START : Categories and Tags Listing panel
			===============================================-->
			<section class="assets-panel flex-item color10 posRel">
				
			</section>
			<!--===========================================
				END : Categories and Tags Listing panel
			===============================================-->
			<section class="webtools-wrapper posRel flex-item order2">		
				<!-- START :: Header Section -->
				<header class="main-header posRel clearfix purple7">
					<a href="javascript:;" class="expand-icon-panel fl"><i class="ion-navicon-round"></i></a>
					<span class="main-header-title oswald w300 uppercasetext fontSize15em fl eleinlineblock">WebTools</span>
					<ul class="header-controls nomargin nopadding nobullets fr">
						<li>
							<a href="snippets.html" class="">Snippets</a>
						</li>
						<li>
							<a href="bookmarks.html" class="">Bookmarks</a>
						</li>
						<li>
							<a href="tasks.html" class="">Tasks</a>
						</li>
						<li>
							<a href="inspirations.html" class="">Inspirations</a>
						</li>
						<li>
							<a href="webtools.html" class="" data-toggle="dropdown">WebTools</a>
							<ul class="dropdown-menu nomargin nopadding nobullets clearfix">
								<li class="active">
									<a href="snippets.html"><i class="jicon-snippets"></i>
										<span>Snippets</span>
									</a>
								</li>
							</ul>
						</li>
						<li>
							<a href="javascript:;" data-toggle="dropdown"><i class="jicon-apps" data-toggle="tooltip" data-placement="bottom" title="Explore Applications"></i></a>
							<div class="dropdown-menu dropdown-menu-right dropdown-apps" role="menu" aria-labelledby="dLabel">
								<ul class="nomargin nopadding nobullets clearfix">
									<li class="active">
										<a href="snippets.html"><i class="jicon-snippets"></i>
											<span>Snippets</span>
										</a>
									</li>
									<li>
										<a href="bookmarks.html"><i class="jicon-bookmarks"></i>
											<span>Bookmarks</span>
										</a>
									</li>
									<li>
										<a href="tasks.html"><i class="jicon-tasks"></i>
											<span>Tasks</span>
										</a>
									</li>
									<li>
										<a href="inspirations.html"><i class="jicon-gallery"></i>
											<span>Inspirations</span>
										</a>
									</li>
									
									<li>
										<a href="webtools.html"><i class="jicon-webtools"></i>
											<span>Web Tools</span>
										</a>
									</li>
									<li>
										<a href="javascript:;"><i class="jicon-stats"></i>
											<span>Stats</span>
										</a>
									</li>
									<!-- <li>
										<a href="javascript:;" title="Category"><i class="jicon-cat"></i>
										<span>Categories</span>
										</a>
										</li>
										<li>
										<a href="javascript:;" title="Tags"><i class="jicon-tags"></i>
										<span>Tags</span>
										</a>
									</li>-->
									<li>
										<a href="javascript:;"><i class="jicon-favourite"></i>
											<span>Favourites</span>
										</a>
									</li>
								</ul>
							</div>
						</li>
						<li>
							<a href="javascript:;" class="lnkOpenModal_Settings"><i class="jicon-settings" data-toggle="tooltip" data-placement="bottom" title="View Settings"></i></a>
						</li>
					</ul>
				</header>
				<!-- END :: Header Section -->
				
				
				
				<!-- START :: Content Panel :: RIGHT -->
				<article class="posAbs cover" style="padding-top: 50px;">
					<section id="code_editor_wrapper" class="full-height-percent color white" data-codepen-id="">
						<div class="split-pane fixed-left">
							<div class="split-pane-component nomargin" data-scrollbar-theme="light" id="left-component" style="background-color: #262626;">
								<section class="code-box-wrapper">
									<article class="html-code-box">
										<h3>SCSS</h3>
										<div class="slide-this" style="height: 100vh;">
											<div class="js-scrollbar" style="max-height:100vh;min-height: 100vh;padding-right:15px;">
												<textarea name="txtAreaSCSS" id="txtAreaSCSS"></textarea>
											</div>
										</div>
									</article>
								</section>							
							</div>
							
							<div class="split-pane-divider" id="my-divider"></div>
							
							<div class="split-pane-component result-view-pane hidden-overflow" id="right-component">
								<div class="live-view-wrapper posRel js-scrollbar" style="max-height:100%;height: calc(100% - 47px);">
									<article class="css-code-box" style="max-height: 30%;">
										<h3>CSS</h3>
										<div class="slide-this">
											<div class="js-scrollbar" style="max-height:100%;min-height: 300px;padding-right:15px;">
												<textarea name="txtAreaCSS" id="txtAreaCSS"></textarea>
											</div>
										</div>
									</article>
								</div>
							</div>
						</div>
					</section>
				</article>
				<!-- END :: Content Panel :: RIGHT -->
			</section>
			
		</div>
		
		<iframe id="iframeTempLoadPenContent" style="display:none;"></iframe>
		
		<script>
			// HTML5 :: Include one html file into another and display
			var arrImportHTMLFiles = [
			//{ contentId : ['#modalAddEditCodePenForm', '#modalSettings'], bindArea : 'body' },
			{ contentId : ['#assetPanelWrapper'], bindArea : '.assets-panel' }
			];
			
			includeModalOverlays(arrImportHTMLFiles);
			// Common Application Functions like Window Minimize, Close, Maximize
			webkitWinModule.init({});
			
			// Generate Left Navigation Sticky panel
			generateLeftNavPanel(leftNavPanelObj);
		</script>
		
		<script type="text/javascript" src="js/handlebars-v3.0.0.js"></script>
		<script type="text/javascript" src="js/bootstrap.js"></script>
		<script type="text/javascript" src="js/plugins/moment.js"></script>
		<script type="text/javascript" src="js/handlebars.helpers.js"></script>
		
		<script type="text/javascript" src="js/plugins/jquery.form-validator.min.js"></script>
		<script type="text/javascript" src="js/plugins/jquery.easing.1.3.min.js"></script>
		<script type="text/javascript" src="js/plugins/summernote.js"></script>
		<script type="text/javascript" src="js/plugins/jPages.js"></script>
		<script type="text/javascript" src="js/plugins/alertify.js"></script>
		<script type="text/javascript" src="js/plugins/selectize.js"></script>
		<script type="text/javascript" src="js/plugins/jquery.bootstrap-growl.min.js"></script>
		<script type="text/javascript" src="js/plugins/highlight.pack.js"></script>
		<script type="text/javascript" src="js/plugins/lightGallery.js"></script>
		
		<script type="text/javascript" src="js/plugins/slick.js"></script>
		<script type="text/javascript" src="js/plugins/jquery.autocomplete.js"></script>
		
		<script type="text/javascript" src="js/plugins/jquery.mCustomScrollbar.concat.min.js"></script>
		<script type="text/javascript" src="js/plugins/dropdowns-enhancement.js"></script>
		<script type="text/javascript" src="js/plugins/bootstrap-colorpicker.js"></script>
		<script type="text/javascript" src="js/plugins/jquery.fastLiveFilter.js"></script>
		<script type="text/javascript" src="js/plugins/mousetrap.js"></script>
		<script type="text/javascript" src="js/plugins/jquery.form.js"></script>
		<script type="text/javascript" src="js/plugins/jquery.uploadfile.js"></script>
		<script type="text/javascript" src="js/common-functions.js"></script>
		<script type="text/javascript" src="js/modules-common-functions.js"></script>
		<script type="text/javascript" src="js/plugins/split-pane.js"></script>
		
		
		<!-- CodeMirror : Core -->
		<script src="js/plugins/codemirror.js"></script>
		<!-- CodeMirror : Modes -->
		<script src="js/codemirror/mode/xml/xml.js"></script>
		<script src="js/codemirror/mode/javascript/javascript.js"></script>
		<script src="js/codemirror/mode/css/css.js"></script>
		<script src="js/codemirror/mode/htmlmixed/htmlmixed.js"></script>
		<!-- CodeMirror : Addons -->
		
		<script src="js/codemirror/addon/fold/xml-fold.js"></script>
		<script src="js/codemirror/addon/fold/foldcode.js"></script>
		<script src="js/codemirror/addon/fold/foldgutter.js"></script>
		<script src="js/codemirror/addon/edit/matchbrackets.js"></script>
		
		<script src="js/codemirror/addon/edit/matchtags.js"></script>
		<script src="js/codemirror/addon/edit/closetag.js"></script>
		<script src="js/codemirror/addon/emmet.js"></script>
		
		<script src="js/codemirror/addon/selection/active-line.js"></script>
		<script src="js/modules/module-categories.js"></script>
		<script src="js/modules/module-tags.js"></script>
		<script>
			
			var delay = (function(){
				var timer = 0;
				return function(callback, ms){
					clearTimeout (timer);
					timer = setTimeout(callback, ms);
				};
			})();
			
			$(function() {
				//formValidationModule.init({formId: '#frmAddEditCodePen'});
				codeEditorModule.init({});
				
				codeEditorModule.htmlEditor.on('keyup', function() {
					delay(function(){
						console.log('Hi, func called on SCSS Editor');
						
						var scss = codeEditorModule.htmlEditor.getValue(),
						css = codeEditorModule.cssEditor.getValue();
						
						var addEditFormDataObj = {
							code : scss
						};
						
						commonAjaxCall('compileSASS', addEditFormDataObj, "json", "POST", processCompileSASS);
						
						console.log("Value :", scss, css);
					}, 2000 );
				});
				codeEditorModule.cssEditor.on('keyup', function() {
					delay(function(){
						console.log('Hi, func called CSS Editor');
						var scss = codeEditorModule.htmlEditor.getValue(),
						css = codeEditorModule.cssEditor.getValue();
						
						console.log("Value :", scss, css);
					}, 2000 );
				});
				
				$('div.split-pane').splitPane();
				
				$('.library-dropdown a[data-toggle=dropdown]').on('click', function (event) {
					$(this).parent().toggleClass("open");
				});
				
			});
			var codeEditorOpts, codeEditorModule = {
				base_tpl : "<!doctype html>\n" +
				"<html>\n\t" +
				"<head>\n\t" +
				"<meta charset=\"utf-8\">\n\t" +
				"<title>Test</title>\n\t" +
				"<\/head>\n\t" +
				"<body>\n\t" +
				"<\/body>\n\t" +
				"<\/html>",
				htmlEditor : "",
				cssEditor : "",
				jsEditor : "",
				init : function(settings) {
					codeEditorOpts = settings;
					
					
					var codemirrorOpts = {
						lineNumbers: true,
						//mode: "text/html",
						profile: 'xhtml',
						styleActiveLine: true,
						matchBrackets: true,
						matchTags: {bothTags: true},
						autoCloseTags: true,
						foldCode : {scanUp :true},
						foldGutter: true,
						gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"],
						theme : "ambiance", // vibrant-ink, solarized dark, ambiance, lesser-dark, neat
						lineWrapping : true,
						styleActiveLine: true,
						onChange: function (inst, changes) {
							//render();
							console.log("Test onchange");
						}
					};
					
					var mixedMode = {
						name: "htmlmixed",
						scriptTypes: [
						{matches: /\/x-handlebars-template|\/x-mustache/i, mode: null},
						{matches: /(text|application)\/(x-)?vb(a|script)/i, mode: "vbscript"}
						]
					};
					
					codeEditorOpts["codemirrorOpts"] = codemirrorOpts;
					
					this.htmlEditor = CodeMirror.fromTextArea(document.getElementById("txtAreaSCSS"), codemirrorOpts);
					this.htmlEditor.setOption("mode", "text/x-scss");
					
					this.cssEditor = CodeMirror.fromTextArea(document.getElementById("txtAreaCSS"), codemirrorOpts);
					this.cssEditor.setOption("mode", "css");
				}
			};
			$('#txtAreaSCSS').on('blur', function() {
				
			});
			
			function processCompileSASS(resultObj) {
				console.log("processCompileSASS", resultObj);
				
				codeEditorModule.cssEditor.setValue(resultObj.sass);
			}
		</script>
		
	</body>
</html>	